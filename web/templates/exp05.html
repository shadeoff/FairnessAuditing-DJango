<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>自动化寻找系统中的不公平样本</title>

    <!-- Mobile Specific Metas
================================================== -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Construction Html5 Template">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name=author content="Themefisher">
    <meta name=generator content="Themefisher Constra HTML Template v1.0">


    <!-- Template styles -->
    <link rel="stylesheet" href="../static/css/style.css">

    <!-- element-ui 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">

    <!-- ============== js ================= -->
    <!-- vue.js -->
    <script src="../static/js/vue.js"></script>

    <!-- axios.js -->
    <script src="../static/plugins/axios/axios-0.18.0.js"></script>

    <!-- element-ui 组件库 -->
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>

</head>

<body>
<div class="body-inner" id="app">

    <el-container>
        <!-- Header -->
        <header class="fixed-header">
            <h2>审计步骤3：寻找系统中的不公平样本 （2/2）</h2>
        </header>

        <!-- Main -->
        <el-main>
            <div class="main-contanier">
                <div class="task-area">
                    <div class="task-title">
                        <h1>自动化寻找系统中的不公平样本</h1>
                    </div>
                    <div class="task-content">
                        <div class="task-content-description">
                            <p>作为审计人员，您或许感到难以找到被模型不公平分类的样本。</p>
                            <p>
                                这是因为样本特征的分布空间太大，当审计人员面临特征更多更复杂的实际待审计系统时，寻找不公平样本将会面临更大的困难。</p>
                            <p>为此，我们设计了一种<b>自动化寻找不公平样本</b>的方法，只需要审计人员指定一个随机的起始样本，自动化程序便可以通过与模型的交互估计不公平样本分布的位置，并最终找到一对不公平的样本。
                            </p>
                        </div>

                        <div class="task-content-form">

                            <div class="task-form-area">
                                <!-- <div class="task-form-description">
                                <p>为寻找不公平样本的算法设定起始样本</p>
                            </div> -->

                                <!-- ==================== form ======================              -->

                                <!-- 加些格式   -->
                                <el-row justify="center">
                                    <el-col :span="18" :offset="3">
                                        <div class="task-form">

                                            <h4 style="margin-top: 0">请任意输入一个起始样本</h4>
                                            <div class="form-card">
                                                <el-form :model="form" :rules="rules" ref="form" label-width="114px"
                                                         :hide-required-asterisk="true">
                                                    <div class="form-edit-area">
                                                        <el-row :gutter="30">
                                                            <el-col :span="12">
                                                                <el-form-item prop="age">
                                                                    <template #label>
                                                                        <div class="contain-number-label">
                                                                            Age
                                                                            <span>( [[ default_scope.age[0] ]] ~ [[ default_scope.age[1] ]] )</span>
                                                                        </div>
                                                                    </template>
                                                                    <el-input v-model.number="form['age']"></el-input>
                                                                </el-form-item>

                                                                <el-form-item prop="hours-per-week">
                                                                    <template #label>
                                                                        <div class="contain-number-label" >
                                                                            Weekly Hours
                                                                            <span>( [[ default_scope['hours-per-week'][0] ]] ~ [[ default_scope['hours-per-week'][1] ]] )</span>
                                                                        </div>
                                                                    </template>
                                                                    <el-input v-model.number="form['hours-per-week']"></el-input>
                                                                </el-form-item>

                                                                <el-form-item prop="education-num">
                                                                    <template #label>
                                                                        <div class="contain-number-label">
                                                                            Education Time
                                                                            <span>( [[ default_scope['education-num'][0] ]] ~ [[ default_scope['education-num'][1] ]] )</span>
                                                                        </div>
                                                                    </template>
                                                                    <el-input v-model.number="form['education-num']"></el-input>
                                                                </el-form-item>

                                                                <el-form-item prop="capital-gain">
                                                                    <template #label>
                                                                        <div class="contain-number-label">
                                                                            Capital Gain
                                                                            <span>( [[ default_scope['capital-gain'][0] ]] ~ [[ default_scope['capital-gain'][1] ]] )</span>
                                                                        </div>
                                                                    </template>
                                                                    <el-input v-model.number="form['capital-gain']"></el-input>
                                                                </el-form-item>

                                                                <el-form-item prop="capital-loss">
                                                                    <template #label>
                                                                        <div class="contain-number-label">
                                                                            Capital Loss
                                                                            <span>( [[ default_scope['capital-loss'][0] ]] ~ [[ default_scope['capital-loss'][1] ]] )</span>
                                                                        </div>
                                                                    </template>
                                                                    <el-input v-model.number="form['capital-loss']"></el-input>
                                                                </el-form-item>
                                                            </el-col>
                                                            <el-col :span="12">

                                                                <el-form-item label="Race" prop="race_White">
                                                                    <el-select v-model="form['race_White']"
                                                                               placeholder="Please select">
                                                                        <el-option v-for="item in filteredRace"
                                                                                   :key="item.value" :label="item.label"
                                                                                   :value="item.value">
                                                                        </el-option>
                                                                    </el-select>
                                                                </el-form-item>

                                                                <el-form-item label="Gender" prop="sex_Male">
                                                                    <el-select v-model="form['sex_Male']"
                                                                               placeholder="Please select">
                                                                        <el-option v-for="item in filteredSex"
                                                                                   :key="item.value" :label="item.label"
                                                                                   :value="item.value">
                                                                        </el-option>
                                                                    </el-select>
                                                                </el-form-item>

                                                                <el-form-item label="Marital Status" prop="marital-status">
                                                                    <el-select v-model="form['marital-status']"
                                                                               placeholder="Please select">
                                                                        <el-option
                                                                                v-for="item in filteredMaritalStatus"
                                                                                :key="item.value" :label="item.label"
                                                                                :value="item.value">
                                                                        </el-option>
                                                                    </el-select>
                                                                </el-form-item>

                                                                <el-form-item label="Work Class" prop="workclass">
                                                                    <el-select v-model="form['workclass']"
                                                                               placeholder="Please select">
                                                                        <el-option v-for="item in filteredWorkclass"
                                                                                   :key="item.value" :label="item.label"
                                                                                   :value="item.value">
                                                                        </el-option>
                                                                    </el-select>
                                                                </el-form-item>
                                                            </el-col>
                                                        </el-row>
                                                    </div>

                                                    <div class="button-area">
                                                        <el-button type="primary"
                                                                   @click="seekUnfairPair('form')">
                                                            Start Auto-Find Unfair Samples
                                                        </el-button>

                                                    </div>
                                                </el-form>
                                            </div>
                                        </div>
                                    </el-col>

                                </el-row>

                            </div>
                            <!-- =================== form1 和 form2  ========================    -->
                            <div class="task-form-area" v-if="isShow" v-loading="loading">
                                <el-row :gutter="40">
                                    <!-- ---------------------- 表1 ---------------------     -->
                                    <el-col :span="12">
                                        <h4>Sample 1</h4>
                                        <div class="form-card">
                                            <el-form :model="form1" :disabled="true" :rules="rules2" ref="form1"
                                                     label-width="106px" :hide-required-asterisk="true">
                                                <div class="form-edit-area">
                                                    <el-row :gutter="30">
                                                        <el-col :span="12">
                                                            <el-form-item label="Age" prop="age">
                                                                <el-input :max="90"
                                                                          v-model.number="form1['age']"></el-input>
                                                            </el-form-item>

                                                            <el-form-item label="Weekly Hours" prop="hours-per-week">
                                                                <el-input
                                                                        v-model.number="form1['hours-per-week']"></el-input>
                                                            </el-form-item>

                                                            <el-form-item label="Education Time" prop="education-num">
                                                                <el-input
                                                                        v-model.number="form1['education-num']"></el-input>
                                                            </el-form-item>

                                                            <el-form-item label="Capital Gain" prop="capital-gain">
                                                                <el-input
                                                                        v-model.number="form1['capital-gain']"></el-input>
                                                            </el-form-item>

                                                            <el-form-item label="Capital Loss" prop="capital-loss">
                                                                <el-input
                                                                        v-model.number="form1['capital-loss']"></el-input>
                                                            </el-form-item>
                                                        </el-col>
                                                        <el-col :span="12">


                                                            <el-form-item label="Race">
                                                                <el-input
                                                                        v-model="getCNLabel(form1['race_White'], 'race_White')"
                                                                        readonly></el-input>
                                                            </el-form-item>


                                                            <el-form-item label="Gender">
                                                                <el-input
                                                                        v-model="getCNLabel(form1['sex_Male'], 'sex_Male')"
                                                                        readonly></el-input>
                                                            </el-form-item>


                                                            <el-form-item label="Marital Status">
                                                                <el-input
                                                                        v-model="getCNLabel(form1['marital-status'], 'marital-status')"
                                                                        readonly></el-input>
                                                            </el-form-item>


                                                            <el-form-item label="Work Class">
                                                                <el-input
                                                                        v-model="getCNLabel(form1['workclass'], 'workclass')"
                                                                        readonly></el-input>
                                                            </el-form-item>
                                                        </el-col>
                                                    </el-row>
                                                </div>

                                                <div class="form-submit-area">
                                                    <el-row justify="center">
                                                        <el-col :span="14" :offset="10">
                                                            <div style="float: left;">
                                                                <div>The classification results: </div>
                                                                <div :class="reresult_style1">[[ result1 ]]</div
                                                                  >
                                                            </div>
                                                        </el-col>
                                                    </el-row>
                                                </div>
                                            </el-form>
                                        </div>
                                    </el-col>
                                    <!-- ---------------------- 表2 ---------------------     -->
                                    <el-col :span="12">
                                        <h4>Sample 2</h4>
                                        <div class="form-card">
                                            <el-form :model="form2" :disabled="true" :rules="rules2" ref="form2"
                                                     label-width="106px" :hide-required-asterisk="true">
                                                <div class="form-edit-area">
                                                    <el-row :gutter="30">
                                                        <el-col :span="12">
                                                            <el-form-item label="Age" prop="age">
                                                                <el-input v-model.number="form2['age']"></el-input>
                                                            </el-form-item>

                                                            <el-form-item label="Weekly Hours" prop="hours-per-week">
                                                                <el-input
                                                                        v-model.number="form2['hours-per-week']"></el-input>
                                                            </el-form-item>

                                                            <el-form-item label="Education Time" prop="education-num">
                                                                <el-input
                                                                        v-model.number="form2['education-num']"></el-input>
                                                            </el-form-item>

                                                            <el-form-item label="Capital Gain" prop="capital-gain">
                                                                <el-input
                                                                        v-model.number="form2['capital-gain']"></el-input>
                                                            </el-form-item>

                                                            <el-form-item label="Capital Loss" prop="capital-loss">
                                                                <el-input
                                                                        v-model.number="form2['capital-loss']"></el-input>
                                                            </el-form-item>
                                                        </el-col>
                                                        <el-col :span="12">


                                                            <el-form-item label="Race">
                                                                <el-input
                                                                        v-model="getCNLabel(form2['race_White'], 'race_White')"
                                                                        readonly></el-input>
                                                            </el-form-item>


                                                            <el-form-item label="Gender">
                                                                <el-input
                                                                        v-model="getCNLabel(form2['sex_Male'], 'sex_Male')"
                                                                        readonly></el-input>
                                                            </el-form-item>


                                                            <el-form-item label="Marital Status">
                                                                <el-input
                                                                        v-model="getCNLabel(form2['marital-status'], 'marital-status')"
                                                                        readonly></el-input>
                                                            </el-form-item>


                                                            <el-form-item label="Work Class">
                                                                <el-input
                                                                        v-model="getCNLabel(form2['workclass'], 'workclass')"
                                                                        readonly></el-input>
                                                            </el-form-item>


                                                        </el-col>
                                                    </el-row>
                                                </div>

                                                <div class="form-submit-area">
                                                    <el-row justify="center">

                                                        <el-col :span="14" :offset="10">
                                                            <div style="float: left;">
                                                                <div>The classification results: </div>
                                                                <div :class="reresult_style2">[[ result2 ]]</div>
                                                            </div>
                                                        </el-col>
                                                    </el-row>
                                                </div>
                                            </el-form>
                                        </div>
                                    </el-col>
                                </el-row>

                                <div class="result-card">
                                    <div class="result-content" style="width:80%; margin: 0 auto;">
                                        <div class="result-content-item">
                                            <label>
                                                <span><b>Criteria for determining if two samples are treated unfairly:</b></span>
                                            </label>
                                            <p>
                                                <span>① Classification Result 1 ≠ Classification Result 2; </span>
                                                <span>② Difference between Sample 1 and Sample 2 ≤ [[ parameter_c ]]. </span>
                                            </p>
                                        </div>
                                        <div class="result-content-item">
                                            <label>
                                                <b>Current input samples: </b>
                                            </label>
                                            <p>
                                                <span :class="compare_standard1_class">① Classification Result 1 [[ comparisonSymbol ]] Classification Result 2 ([[ compare_standard1_description]]);</span>
                                                <span :class="compare_standard2_class"> ② Difference between Sample 1 and Sample 2 is [[ dx ]] ([[ compare_standard2_description ]])</span>
                                            </p>
                                        </div>
                                        <div class="result-content-item">
                                            <label>
                                                <span><b>Determination result:</b> </span>
                                            </label>
                                            <p>
                                                <span>[[ fairness_info ]]</span>
                                            </p>
                                        </div>


                                    </div>

                                </div>
                            </div>

                            <div class="jump-area">
                                <div class="button-area">
                                    <el-button v-if="isShow" type="warning" @click="goNext">Next</el-button>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>

        </el-main>

    </el-container>


</div>


<!-- 创建Vue对象 -->
<script>
    axios.get('/api/csrf/').then(response => {
        axios.defaults.headers.common['X-CSRFToken'] = response.data.csrfToken;
    });
    new Vue({
        el: "#app",
        delimiters: ["[[", "]]"],
        data() {
            return {
                sensitive: '',
                isDisabled: false,
                // isDisabled: true,

                isShow: false,
                // isShow: true,
                //  范围表单
                form: {
                    "age": '',
                    "capital-gain": '',
                    "capital-loss": '',
                    "education-num": '',
                    "hours-per-week": '',
                    "race_White": '',
                    "sex_Male": '',
                    "marital-status": [],
                    "workclass": [],

                },
                default_scope: {
                    "age": [17, 90],
                    "capital-gain": [0, 99999],
                    "capital-loss": [0, 4356],
                    "education-num": [1, 16],
                    "hours-per-week": [1, 99],
                    "marital-status": [],
                    "workclass": [],
                    "sex_Male": [0, 1],
                    "race_White": [0, 1],

                },


                form1: {
                    "age": '',
                    "capital-gain": '',
                    "capital-loss": '',
                    "education-num": '',
                    "hours-per-week": '',
                    "race_White": '',
                    "sex_Male": '',
                    "marital-status": '',
                    "workclass": '',
                },
                form2: {
                    "age": '',
                    "capital-gain": '',
                    "capital-loss": '',
                    "education-num": '',
                    "hours-per-week": '',
                    "race_White": '',
                    "sex_Male": '',
                    "marital-status": '',
                    "workclass": '',

                },
                //  Marital Status
                marital_status: [
                    {value: 'Divorced', label: 'Divorced'},
                    {value: 'Married-AF-spouse', label: 'Married-AF-spouse'},
                    {value: 'Married-civ-spouse', label: 'Married-civ-spouse'},
                    {value: 'Married-spouse-absent', label: 'Married-spouse-absent'},
                    {value: 'Never-married', label: 'Never-married'},
                    {value: 'Separated', label: 'Separated'},
                    {value: 'Widowed', label: 'Widowed'},],
                //  Work Class
                workclass: [
                    {value: 'Federal-gov', label: 'Federal-gov'},
                    {value: 'Local-gov', label: 'Local-gov'},
                    {value: 'Private', label: 'Private'},
                    {value: 'Self-emp-inc', label: 'Self-emp-inc'},
                    {value: 'Self-emp-not-inc', label: 'Self-emp-not-inc'},
                    {value: 'State-gov', label: 'State-gov'},
                    {value: 'Without-pay', label: 'Without-pay'},

                ],

                // 种族和性别中文标签
                CN_sex_Male: [
                    {value: 'Female', label: 'Female'},
                    {value: 'Male', label: 'Male'},

                ],
                CN_race_White: [
                    {value: "Others", label: 'Others'},
                    {value: "White", label: 'White'},

                ],


                sex_Male: [
                    {value: 0, label: 'Female'},
                    {value: 1, label: 'Male'},

                ],
                race_White: [
                    {value: 0, label: 'Others'},
                    {value: 1, label: 'White'},

                ],
                result: '',
                result1: '',
                result2: '',
                dx: 'xxx',
                dy: 'yyy',
                // 公平信息
                fairness_info: '',
                fairness_info_dict: {
                    "condition2_not_met": "No unfair sample found. Reason: The difference between the two samples is too large, making the classification results incomparable. It is recommended to input more similar samples.",
                    "condition2_met_but_condition1_not_met": "No unfair sample found. Reason: The model classified these two similar samples in the same way, indicating fairness.",
                },
                // 差异度
                parameter_c: '',
                initialValue: '',
                rules: {},
                rules2: {},
                compare_standard1: false,
                compare_standard2: false,
                reresult_style1: '',
                reresult_style2: '',
                loading: false,
                // 控制显示的两个对比结果的颜色
                compare_standard1_class: '',
                compare_standard2_class: '',
                compare_standard1_description: '',
                compare_standard2_description: '',
            };
        },
        computed: {
            filteredMaritalStatus() {
                return this.marital_status.filter(item => this.default_scope['marital-status'].includes(item.value));
            },
            filteredWorkclass() {
                return this.workclass.filter(item => this.default_scope.workclass.includes(item.value));
            },
            filteredSex() {
                return this.sex_Male.filter(item => this.default_scope.sex_Male.includes(item.value));
            },
            filteredRace() {
                return this.race_White.filter(item => this.default_scope.race_White.includes(item.value));
            },
            comparisonSymbol() {
                if (this.dy == 1) {
                    this.compare_standard1_class = 'compare-standard-true';
                    this.compare_standard1 = true;
                    // Meets the Criteria
                    this.compare_standard1_description = 'Meets the criteria';
                    return '≠';
                } else {
                    this.compare_standard1_class = 'compare-standard-false';
                    this.compare_standard1 = false;
                    // Does Not Meet the Criteria
                    this.compare_standard1_description = 'Ineligible';
                    return '=';
                }
            }
        },
        created() {
            this.fetchData();
        },

        methods: {

            //  初始化时获取数据
            fetchData() {
                let _this = this;
                axios.get("/api/exp05/?type=get_range").then(resp => {
                    _this.default_scope = resp.data;
                    _this.generateRules();
                    _this.$nextTick(() => {
                        _this.$refs.form.resetFields();
                    });
                });

            },
            //构造规则
            generateRules() {
                const scope = this.default_scope;
                this.rules = {
                    age: [
                        {required: true, message: 'Please enter the age', trigger: 'blur'},
                        {type: 'number', message: 'Must be a numeric value', trigger: 'blur'},
                        {
                            type: 'number',
                            min: scope.age[0],
                            max: scope.age[1],
                            message: `Must be between ${scope.age[0]} and ${scope.age[1]}`,
                            trigger: 'blur'
                        }
                    ],
                    'hours-per-week': [
                        {required: true, message: 'Please enter weekly working hours', trigger: 'blur'},
                        {type: 'number', message: 'Must be a numeric value', trigger: 'blur'},
                        {
                            type: 'number',
                            min: scope['hours-per-week'][0],
                            max: scope['hours-per-week'][1],
                            message: `Must be between ${scope['hours-per-week'][0]} and ${scope['hours-per-week'][1]}`,
                            trigger: 'blur'
                        }
                    ],
                    'education-num': [
                        {required: true, message: 'Please enter the length of education', trigger: 'blur'},
                        {type: 'number', message: 'Must be a numeric value', trigger: 'blur'},
                        {
                            type: 'number',
                            min: scope['education-num'][0],
                            max: scope['education-num'][1],
                            message: `Must be between ${scope['education-num'][0]} and ${scope['education-num'][1]}`,
                            trigger: 'blur'
                        }
                    ],
                    'capital-gain': [
                        {required: true, message: 'Please enter the capital gain', trigger: 'blur'},
                        {type: 'number', message: 'Must be a numeric value', trigger: 'blur'},
                        {
                            type: 'number',
                            min: scope['capital-gain'][0],
                            max: scope['capital-gain'][1],
                            message: `Must be between ${scope['capital-gain'][0]} and ${scope['capital-gain'][1]}`,
                            trigger: 'blur'
                        }
                    ],
                    'capital-loss': [
                        {required: true, message: 'Please enter the capital loss', trigger: 'blur'},
                        {type: 'number', message: 'Must be a numeric value', trigger: 'blur'},
                        {
                            type: 'number',
                            min: scope['capital-loss'][0],
                            max: scope['capital-loss'][1],
                            message: `Must be between ${scope['capital-loss'][0]} and ${scope['capital-loss'][1]}`,
                            trigger: 'blur'
                        }
                    ],
                    'race_White': [
                        {required: true, message: 'Please select the race', trigger: 'change'}
                    ],
                    'sex_Male': [
                        {required: true, message: 'Please select the gender', trigger: 'change'}
                    ],
                    'marital-status': [
                        {required: true, message: 'Please select the marital status', trigger: 'change'}
                    ],
                    'workclass': [
                        {required: true, message: 'Please select the work class', trigger: 'change'}
                    ]
                };
            },

            // form提交，得到不公平对
            seekUnfairPair(formName) {
                // this.loading = true;
                this.$refs[formName].validate((valid) => {

                    if (valid) {
                        this.loading = true;
                        console.log(this.form)
                        let _this = this;
                        axios.post("/api/exp05/", {action: "seek_unfair_pair", data: this.form})
                            .then(resp => {
                                _this.isShow = true;
                                _this.form1 = resp.data[0];
                                _this.form2 = resp.data[1];
                                console.log(resp.data)
                                axios.post("/api/exp05/", {
                                    action: "check_unfair_pair", data1: _this.form1, data2: _this.form2
                                }).then(response => {
                                    _this.result1 = response.data.result[0];
                                    _this.result2 = response.data.result[1];
                                    if (this.result1 == 'Annual income less than 50K') {
                                        this.reresult_style1 = 'result-less-50k'
                                    } else {
                                        this.reresult_style1 = 'result-greater-50k'
                                    }
                                    if (this.result2 == 'Annual income less than 50K') {
                                        this.reresult_style2 = 'result-less-50k'
                                    } else {
                                        this.reresult_style2 = 'result-greater-50k'
                                    }
                                    _this.dx = response.data.fair_data.dx === 0 ? 0 : (response.data.fair_data.dx).toExponential(4);
                                    _this.dy = response.data.fair_data.dy;
                                    _this.parameter_c = (1 / response.data.fair_data.eps).toExponential(4);

                                    // 转换为数字，避免发生字符串比较
                                    const dxNumeric = Number(_this.dx);
                                    const parameterCNumeric = Number(_this.parameter_c);

                                    //判断显示的颜色
                                    if (dxNumeric > parameterCNumeric) {
                                        console.log("进入>: dx is " + _this.dx + ", c is " + _this.parameter_c);
                                        _this.compare_standard2_class = 'compare-standard-false';
                                        _this.compare_standard2 = false;
                                        _this.compare_standard2_description = 'Does Not Meet the Criteria';

                                    } else {
                                        console.log("进入<=: dx is " + _this.dx + ", c is " + _this.parameter_c);
                                        _this.compare_standard2_class = 'compare-standard-true';
                                        _this.compare_standard2 = true;
                                        _this.compare_standard2_description = 'Meets the Criteria';

                                    }
                                    // 判断dy以及之后的是否相等
                                    if (_this.dy == 1) {
                                        _this.compare_standard1_class = 'compare-standard-true';
                                        _this.compare_standard1 = true;
                                        _this.compare_standard1_description = 'Meets the Criteria';
                                    } else {
                                        _this.compare_standard1_class = 'compare-standard-false';
                                        _this.compare_standard1 = false;
                                        _this.compare_standard1_description = 'Does Not Meet the Criteria';
                                    }

                                    let flag = response.data.fair_data.fair_or_not;
                                    if (flag) {
                                        // 公平，不符合情况
                                        if (!_this.compare_standard2) {
                                            _this.fairness_info = _this.fairness_info_dict.condition2_not_met;
                                        } else if (_this.compare_standard2 && !_this.compare_standard1) {
                                            _this.fairness_info = _this.fairness_info_dict.condition2_met_but_condition1_not_met;
                                        } else {
                                            _this.fairness_info = "Something wrong! Please contact staff."
                                        }
                                    } else {
                                        _this.fairness_info = "Successfully found an unfair sample!"
                                    }
                                    this.loading = false;
                                });
                            });
                        _this.$message({
                            type: 'success',
                            message: 'Success! '
                        })
                    } else {
                        this.$message.error('Error submit!');
                        console.log('error submit!');
                        return false;
                    }
                });
            },
            // 获取中文label
            getMaritalStatusLabel(value) {
                const status = this.marital_status.find(item => item.value === value);
                return status ? status.label : value;
            },
            getWorkclassLabel(value) {
                const status = this.workclass.find(item => item.value === value);
                return status ? status.label : value;
            },
            getRaceLabel(value) {
                const status = this.CN_race_White.find(item => item.value === value);
                return status ? status.label : value;
            },
            getSexLabel(value) {
                const status = this.CN_sex_Male.find(item => item.value === value);
                return status ? status.label : value;
            },
            getCNLabel(value, feature) {
                if (feature === 'marital-status') {
                    const status = this.marital_status.find(item => item.value === value);
                    return status ? status.label : value;
                }
                if (feature === 'workclass') {
                    const status = this.workclass.find(item => item.value === value);
                    return status ? status.label : value;
                }
                if (feature === 'race_White') {
                    const status = this.CN_race_White.find(item => item.value === value);
                    return status ? status.label : value;
                }
                if (feature === 'sex_Male') {
                    const status = this.CN_sex_Male.find(item => item.value === value);
                    return status ? status.label : value;
                }
            },

            goNext() {
                if (this.isShow) {
                    window.location.href = '/page06/';
                } else {
                    alert('Please test data first! ');
                }
            }


        }
    })


</script>
<style>
    .red {
        color: red;
    }

    .green {
        color: green;
    }
</style>
</body>

</html>